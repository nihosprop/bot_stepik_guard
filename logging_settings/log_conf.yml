version: 1
disable_existing_loggers: True

formatters:
  formatter:
    format: '[{asctime}] #{levelname:<8} {filename:<17}:{lineno:4} - <{funcName}> - {message}'
    datefmt: '%Y.%m.%d %H:%M:%S'
    style: '{'

handlers:
  stdout:
    class: logging.StreamHandler
    formatter: formatter
    stream: ext://sys.stdout

  file:
    class: logging.handlers.RotatingFileHandler
    formatter: formatter
    filename: /app/logs/app.log
    maxBytes: 10485760
    backupCount: 3
    mode: 'a'

loggers:

  tests.tests:
    level: ${LOG_LEVEL}
    handlers: [ stdout, file ]
    propagate: no

  apscheduler:
    level: ${LOG_LEVEL}
    propagate: False

  scheduler:
    level: ${LOG_LEVEL}
    handlers: [ stdout, file ]
    propagate: no

  # handlers
  handlers.owners_handlers:
    level: ${LOG_LEVEL}
    handlers: [ stdout, file ]
    propagate: no

  handlers.user_handlers:
    level: ${LOG_LEVEL}
    handlers: [ stdout, file ]
    propagate: no

  handlers.other:
    level: ${LOG_LEVEL}
    handlers: [ stdout, file ]
    propagate: no

  handlers.users_handlers:
    level: ${LOG_LEVEL}
    handlers: [ stdout, file ]
    propagate: no

  # middlewares
  middlewares.outer:
    level: ${LOG_LEVEL}
    handlers: [stdout, file]
    propagate: no

  # config
  config_data.config:
    level: ${LOG_LEVEL}
    handlers: [stdout, file]
    propagate: no

  # filters
  filters.filters:
    level: ${LOG_LEVEL}
    handlers: [stdout, file]
    propagate: no

  filters.toxicity_classifiers:
    level: ${LOG_LEVEL}
    handlers: [ stdout, file ]
    propagate: no

  # keyboards
  keyboards.utils_menu:
    level: ${LOG_LEVEL}
    handlers: [ stdout, file ]
    propagate: no

  keyboards.kb_utils:
    level: ${LOG_LEVEL}
    handlers: [stdout, file]
    propagate: no

  keyboards.keyboards:
    level: ${LOG_LEVEL}
    handlers: [stdout, file]
    propagate: no

  keyboards.set_menu:
    level: ${LOG_LEVEL}
    handlers: [stdout, file]
    propagate: no

  # states
  states.states:
    level: ${LOG_LEVEL}
    handlers: [stdout, file]
    propagate: no

  # utils
  utils.utils:
    level: ${LOG_LEVEL}
    handlers: [stdout, file]
    propagate: no

  utils.stepik:
    level: ${LOG_LEVEL}
    handlers: [ stdout, file ]
    propagate: no

  utils.redis_service:
    level: ${LOG_LEVEL}
    handlers: [ stdout, file ]
    propagate: no

  # tasks
  tasks.tasks:
    level: ${LOG_LEVEL}
    handlers: [ stdout, file ]
    propagate: no

  __main__:
    level: ${LOG_LEVEL}
    handlers: [stdout, file]
    propagate: no

root:
  level: ${LOG_LEVEL}
  handlers: [stdout, file]